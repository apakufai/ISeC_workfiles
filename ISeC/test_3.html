<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Блок 3. ИКС-файл</title>
    <script type="text/javascript"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>


    <section class="vertical_lines">
        <img class="line_1" src="./images/line.svg"></img>
        <img class="line_2" src="./images/line.svg"></img>
        <img class="line_3" src="./images/line.svg"></img>
        <img class="line_4" src="./images/line.svg"></img>
        <img class="line_5" src="./images/line.svg"></img>
        <img class="line_6" src="./images/line.svg"></img>
        <img class="line_7" src="./images/line.svg"></img>
        <img class="line_8" src="./images/line.svg"></img>
    </section>
    <section class="horizontal_lines">
        <img class="line_9" src="./images/line.svg"></img>
        <img class="line_10" src="./images/line.svg"></img>
        <img class="line_11" src="./images/line.svg"></img>
        <img class="line_12" src="./images/line.svg"></img>
        <img class="line_13" src="./images/line.svg"></img>
        <img class="line_14" src="./images/line.svg"></img>
        <img class="line_15" src="./images/line.svg"></img>
        <img class="line_16" src="./images/line.svg"></img>
        <img class="line_17" src="./images/line.svg"></img>
        <img class="line_18" src="./images/line.svg"></img>
        <img class="line_19" src="./images/line.svg"></img>
        <img class="line_20" src="./images/line.svg"></img>
    </section>

    <main>

        <!-- ОПИСАНИЕ БЛОКА -->

        <div class="descr_test" name="descr_test_3">
            <p class="descr_test_title">Блок 3. Выбор хода<br>
            </p>
            <p class="descr_test_text">В каждом из 9 пунктов этой анкеты Вам будут предложены высказывания о стиле
                поведения в переговорах. Для каждого высказывания расположите варианты ответов в порядке значимости
                <i>для ВАС:</i> от наиболее выраженного (3 балла) к наименее используемому (1 балл) варианту<br>
            </p>
            <button id="test_3_start" class="btn_test" type="button">Приступить к выполнению блока</button>
        </div>

        <script>
            document.getElementById('test_3_start').addEventListener('click', function () {
                var from = document.querySelector('[name="descr_test_3"]');
                var to = document.querySelector('[name="quest_3_1"]');
                from.classList.add('animBlockDisappear_next');
                from.addEventListener('animationend', function handler() {
                    from.style.display = 'none';
                    from.classList.remove('animBlockDisappear_next'); // Удаляем класс анимации
                    to.style.display = 'block';
                    to.classList.add('animBlockAppear_next');
                    to.addEventListener('animationend', function appearHandler() {
                        to.classList.remove('animBlockAppear_next'); // Удаляем класс анимации
                        to.removeEventListener('animationend', appearHandler);
                    });
                    from.removeEventListener('animationend', handler);
                });
            });
        </script>

        <!-- ВСПЛЫВАЮЩЕЕ ОКНО -->
        <div class="popup" id="popup_3">
            <div class="popup-content">
                <p class="error_text">Ошибка</p>
                <p>Не должно быть одинаковых значений</p>
                <button class="close-btn" id="closeBtn_3">Закрыть</button>
            </div>
        </div>


        <!-- ВОПРОС 1 -->

        <div class="quest_3" name="quest_3_1">
            <p class="quest_3_title">Вопрос 1</p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 1</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 2</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 3</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <section class="quest_3_sect">
                <button id="btn_3_1_prev" class="btn_nextprev">Назад</button>
                <div class="inpBlock_3">
                    <div class="inp_count_3" id="inp_count_3_1_1">
                        <span>Вариант 1</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_1">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <div class="inp_count_3" id="inp_count_3_1_2">
                        <span>Вариант 2</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_1">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <div class="inp_count_3" id="inp_count_3_1_3">
                        <span>Вариант 3</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_1">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <datalist id="input-list_3_1">
                        <option value="1"></option>
                        <option value="2"></option>
                        <option value="3"></option>
                    </datalist>
                </div>
                <button id="btn_3_1_next" class="btn_nextprev">Далее</button>
            </section>

            <script>
                // Перелистывание назад
                document.getElementById('btn_3_1_prev').addEventListener('click', function () {
                    var from = document.querySelector('[name="quest_3_1"]');
                    var to = document.querySelector('[name="descr_test_3"]');
                    from.classList.add('animBlockDisappear_prev');
                    from.addEventListener('animationend', function handler() {
                        from.style.display = 'none';
                        from.classList.remove('animBlockDisappear_prev'); // Удаляем класс анимации
                        to.style.display = 'block'; // Просто показываем элемент без анимации
                        from.removeEventListener('animationend', handler);
                    });
                });
                // Переменные всплывающего окна
                const popup_3_1 = document.getElementById('popup_3');
                const closeBtn_3_1 = document.getElementById('closeBtn_3');
                // Кнопка и функция перелистывания вперед
                const nextButton_3_1 = document.getElementById("btn_3_1_next");
                document.addEventListener("DOMContentLoaded", function () {
                    nextButton_3_1.addEventListener("click", function () {
                        // Получаем значения ползунков по ID
                        const value_3_1_1 = parseInt(document.getElementById('inp_count_3_1_1').querySelector('.slider').value, 10);
                        const value_3_1_2 = parseInt(document.getElementById('inp_count_3_1_2').querySelector('.slider').value, 10);
                        const value_3_1_3 = parseInt(document.getElementById('inp_count_3_1_3').querySelector('.slider').value, 10);
                        const values_3_1 = [value_3_1_1, value_3_1_2, value_3_1_3];
                        // Проверяем, есть ли значения 1, 2 и 3 среди ползунков
                        if (!(values_3_1.includes(1) && values_3_1.includes(2) && values_3_1.includes(3))) {
                            // Если все три уникальных значения отсутствуют, показываем всплывающее окно
                            popup_3_1.style.display = 'flex';
                        } else {
                            // Логика перелистывания вперед
                            const from = document.querySelector('[name="quest_3_1"]');
                            const to = document.querySelector('[name="quest_3_2"]'); // Предполагается, что этот элемент существует
                            from.classList.add('animBlockDisappear_next');
                            from.addEventListener('animationend', function handler() {
                                from.style.display = 'none';
                                from.classList.remove('animBlockDisappear_next');
                                to.style.display = 'block';
                                to.classList.add('animBlockAppear_next');
                                to.addEventListener('animationend', function appearHandler() {
                                    to.classList.remove('animBlockAppear_next');
                                    to.removeEventListener('animationend', appearHandler);
                                });
                                from.removeEventListener('animationend', handler);
                            });
                        }
                    });
                    // Закрытие всплывающего окна
                    closeBtn_3_1.addEventListener('click', function () {
                        popup_3_1.style.display = 'none'; // Скрываем всплывающее окно
                    });
                });
            </script>
        </div>
        </div>


        <!-- ВОПРОС 2 -->

        <div class="quest_3" name="quest_3_2">
            <p class="quest_3_title">Вопрос 2</p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 1</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 2</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <p class="quest_3_text">
                <span class="affirm_3">Утверждение 3</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Magnam, consequatur, dolorem voluptatum cum aut unde consectetur obcaecati nam tenetur pariatur ratione
                doloremque. Iste facere, in similique dolore, cupiditate nam corporis doloremque ab amet provident
                necessitatibus voluptatem. Aspernatur delectus vel, ipsam rem aut repellat iusto odio magni, laudantium
                voluptates qui cupiditate? <br>
            </p>
            <section class="quest_3_sect">
                <button id="btn_3_2_prev" class="btn_nextprev">Назад</button>
                <div class="inpBlock_3">
                    <div class="inp_count_3" id="inp_count_3_2_1">
                        <span>Вариант 1</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_2">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <div class="inp_count_3" id="inp_count_3_2_2">
                        <span>Вариант 2</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_2">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <div class="inp_count_3" id="inp_count_3_2_3">
                        <span>Вариант 3</span>
                        <input type="range" class="slider" value="1" min="1" max="3" list="input-list_3_2">
                        <div class="range-output">
                            <span>1</span>
                            <span>2</span>
                            <span>3</span>
                        </div>
                    </div>
                    <datalist id="input-list_3_2">
                        <option value="1"></option>
                        <option value="2"></option>
                        <option value="3"></option>
                    </datalist>
                </div>
                <button id="btn_3_2_next" class="btn_nextprev">Далее</button>
            </section>

            <script>
                // Перелистывание назад
                document.getElementById('btn_3_2_prev').addEventListener('click', function () {
                    var from = document.querySelector('[name="quest_3_2"]');
                    var to = document.querySelector('[name="quest_3_1"]');
                    from.classList.add('animBlockDisappear_prev');
                    from.addEventListener('animationend', function handler() {
                        from.style.display = 'none';
                        from.classList.remove('animBlockDisappear_prev'); // Удаляем класс анимации
                        to.style.display = 'block';
                        to.classList.add('animBlockAppear_prev'); // Добавляем класс анимации для появления
                        to.addEventListener('animationend', function appearHandler() {
                            to.classList.remove('animBlockAppear_prev'); // Удаляем класс анимации
                            to.removeEventListener('animationend', appearHandler);
                        });
                        from.removeEventListener('animationend', handler);
                    });
                });
                // Переменные всплывающего окна
                const popup_3_2 = document.getElementById('popup_3');
                const closeBtn_3_2 = document.getElementById('closeBtn_3');
                // Кнопка и функция перелистывания вперед
                const nextButton_3_2 = document.getElementById("btn_3_2_next");
                document.addEventListener("DOMContentLoaded", function () {
                    nextButton_3_2.addEventListener("click", function () {
                        // Получаем значения ползунков по ID
                        const value_3_2_1 = parseInt(document.getElementById('inp_count_3_2_1').querySelector('.slider').value, 10);
                        const value_3_2_2 = parseInt(document.getElementById('inp_count_3_2_2').querySelector('.slider').value, 10);
                        const value_3_2_3 = parseInt(document.getElementById('inp_count_3_2_3').querySelector('.slider').value, 10);
                        const values_3_2 = [value_3_2_1, value_3_2_2, value_3_2_3];
                        // Проверяем, есть ли значения 1, 2 и 3 среди ползунков
                        if (!(values_3_2.includes(1) && values_3_2.includes(2) && values_3_2.includes(3))) {
                            // Если все три уникальных значения отсутствуют, показываем всплывающее окно
                            popup_3_2.style.display = 'flex';
                        } else {
                            // Логика перелистывания вперед
                            const from = document.querySelector('[name="quest_3_2"]');
                            const to = document.querySelector('[name="quest_3_3"]'); // Предполагается, что этот элемент существует
                            from.classList.add('animBlockDisappear_next');
                            from.addEventListener('animationend', function handler() {
                                from.style.display = 'none';
                                from.classList.remove('animBlockDisappear_next');
                                to.style.display = 'block';
                                to.classList.add('animBlockAppear_next');
                                to.addEventListener('animationend', function appearHandler() {
                                    to.classList.remove('animBlockAppear_next');
                                    to.removeEventListener('animationend', appearHandler);
                                });
                                from.removeEventListener('animationend', handler);
                            });
                        }
                    });
                    // Закрытие всплывающего окна
                    closeBtn_3_2.addEventListener('click', function () {
                        popup_3_2.style.display = 'none'; // Скрываем всплывающее окно
                    });
                });
            </script>
        </div>

    </main>

</body>

</html>